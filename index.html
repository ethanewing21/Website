<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Money Tracker</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: white;
      padding: 30px;
      text-align: center;
    }

    .header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
    }

    .grand-total {
      font-size: 3em;
      font-weight: bold;
      margin: 20px 0;
      padding: 20px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      backdrop-filter: blur(10px);
    }

    .grand-total.positive {
      color: #2ecc71;
    }

    .grand-total.negative {
      color: #e74c3c;
    }

    .main-content {
      display: grid;
      grid-template-columns: 1fr 350px;
      gap: 30px;
      padding: 30px;
    }

    .input-section {
      background: #f8f9fa;
      padding: 30px;
      border-radius: 15px;
      border: 2px solid #e9ecef;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #2c3e50;
    }

    input,
    select {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      transition: border-color 0.3s;
    }

    input:focus,
    select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .type-selector {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .type-btn {
      flex: 1;
      padding: 12px;
      border: 2px solid #ddd;
      background: white;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
    }

    .type-btn.active {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    .type-btn.expense.active {
      background: #e74c3c;
      border-color: #e74c3c;
    }

    .type-btn.income.active {
      background: #2ecc71;
      border-color: #2ecc71;
    }

    .btn {
      background: #667eea;
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      width: 100%;
    }

    .btn:hover {
      background: #5a67d8;
      transform: translateY(-2px);
    }

    .sidebar {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .categories-section {
      background: white;
      border-radius: 15px;
      padding: 25px;
      border: 2px solid #e9ecef;
    }

    .section-title {
      font-size: 1.3em;
      font-weight: bold;
      margin-bottom: 20px;
      color: #2c3e50;
      text-align: center;
    }

    .category-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 15px;
      margin-bottom: 10px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #667eea;
    }

    .category-item.expense {
      border-left-color: #e74c3c;
    }

    .category-item.income {
      border-left-color: #2ecc71;
    }

    .category-name {
      font-weight: 600;
      color: #2c3e50;
    }

    .category-total {
      font-weight: bold;
      font-size: 1.1em;
    }

    .category-total.expense {
      color: #e74c3c;
    }

    .category-total.income {
      color: #2ecc71;
    }

    .transactions-section {
      grid-column: 1 / -1;
      background: white;
      border-radius: 15px;
      padding: 25px;
      border: 2px solid #e9ecef;
      margin-top: 20px;
    }

    .transaction-item {
      display: grid;
      grid-template-columns: auto 1fr auto auto auto;
      gap: 15px;
      padding: 15px;
      margin-bottom: 10px;
      background: #f8f9fa;
      border-radius: 8px;
      align-items: center;
    }

    .transaction-type {
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.9em;
      font-weight: bold;
      text-transform: uppercase;
    }

    .transaction-type.expense {
      background: #ffe5e5;
      color: #e74c3c;
    }

    .transaction-type.income {
      background: #e5f5e5;
      color: #2ecc71;
    }

    .transaction-category {
      font-weight: 600;
      color: #2c3e50;
    }

    .transaction-amount {
      font-weight: bold;
      font-size: 1.1em;
    }

    .transaction-amount.expense {
      color: #e74c3c;
    }

    .transaction-amount.income {
      color: #2ecc71;
    }

    .transaction-date {
      color: #7f8c8d;
      font-size: 0.9em;
    }

    .delete-btn {
      background: #e74c3c;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9em;
    }

    .delete-btn:hover {
      background: #c0392b;
    }

    .add-category-section {
      margin-top: 20px;
      padding-top: 20px;
      border-top: 2px solid #e9ecef;
    }

    .add-category-form {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    .add-category-form input {
      flex: 1;
    }

    .add-category-form button {
      padding: 10px 15px;
      background: #2ecc71;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .empty-state {
      text-align: center;
      color: #7f8c8d;
      padding: 40px;
      font-style: italic;
    }

    @media (max-width: 768px) {
      .main-content {
        grid-template-columns: 1fr;
      }

      .transaction-item {
        grid-template-columns: 1fr auto;
        gap: 10px;
      }

      .transaction-item>*:not(.transaction-category):not(.transaction-amount) {
        display: none;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>ðŸ’° Money Tracker</h1>
      <div class="grand-total" id="grandTotal">$0.00</div>
      <div>Total Revenue</div>
    </div>

    <div class="main-content">
      <div class="input-section">
        <h2 class="section-title">Add Transaction</h2>

        <div class="type-selector">
          <button class="type-btn expense active" onclick="setType('expense')">Expense</button>
          <button class="type-btn income" onclick="setType('income')">Income</button>
        </div>

        <form id="transactionForm">
          <div class="form-group">
            <label for="category">Category:</label>
            <select id="category" required>
              <option value="">Select a category</option>
            </select>
          </div>

          <div class="form-group">
            <label for="amount">Amount:</label>
            <input type="number" id="amount" step="0.01" min="0.01" placeholder="0.00" required>
          </div>

          <div class="form-group">
            <label for="description">Description (optional):</label>
            <input type="text" id="description" placeholder="What was this for?">
          </div>

          <div class="form-group">
            <label for="date">Date:</label>
            <input type="date" id="date" required>
          </div>

          <button type="submit" class="btn">Add Transaction</button>
        </form>

        <div class="add-category-section">
          <h3>Manage Categories</h3>
          <div class="add-category-form">
            <input type="text" id="newCategoryName" placeholder="New category name">
            <button onclick="addCategory()">Add Category</button>
          </div>
        </div>
      </div>

      <div class="sidebar">
        <div class="categories-section">
          <h2 class="section-title">Category Totals</h2>
          <div id="categoryTotals">
            <div class="empty-state">No transactions yet</div>
          </div>
        </div>
      </div>

      <div class="transactions-section">
        <h2 class="section-title">Recent Transactions</h2>
        <div id="transactionsList">
          <div class="empty-state">No transactions recorded yet. Add your first transaction above!</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Data storage
    let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
    let categories = JSON.parse(localStorage.getItem('categories')) || {
      expense: ['Food', 'Transportation', 'Entertainment', 'Shopping', 'Bills'],
      income: ['Salary', 'Freelance', 'Investment', 'Other']
    };
    let currentType = 'expense';

    // Initialize the app
    document.addEventListener('DOMContentLoaded', function () {
      // Set today's date as default
      document.getElementById('date').valueAsDate = new Date();

      // Load initial data
      updateCategorySelect();
      updateCategoryTotals();
      updateTransactionsList();
      updateGrandTotal();
    });

    // Set transaction type
    function setType(type) {
      currentType = type;
      document.querySelectorAll('.type-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelector(`.type-btn.${type}`).classList.add('active');
      updateCategorySelect();
    }

    // Update category dropdown
    function updateCategorySelect() {
      const categorySelect = document.getElementById('category');
      categorySelect.innerHTML = '<option value="">Select a category</option>';

      categories[currentType].forEach(category => {
        const option = document.createElement('option');
        option.value = category;
        option.textContent = category;
        categorySelect.appendChild(option);
      });
    }

    // Add new category
    function addCategory() {
      const input = document.getElementById('newCategoryName');
      const categoryName = input.value.trim();

      if (categoryName && !categories[currentType].includes(categoryName)) {
        categories[currentType].push(categoryName);
        localStorage.setItem('categories', JSON.stringify(categories));
        updateCategorySelect();
        input.value = '';

        // Show confirmation
        const originalBtn = event.target;
        originalBtn.textContent = 'Added!';
        originalBtn.style.background = '#2ecc71';
        setTimeout(() => {
          originalBtn.textContent = 'Add Category';
          originalBtn.style.background = '#2ecc71';
        }, 1000);
      }
    }

    // Add transaction
    document.getElementById('transactionForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const transaction = {
        id: Date.now(),
        type: currentType,
        category: document.getElementById('category').value,
        amount: parseFloat(document.getElementById('amount').value),
        description: document.getElementById('description').value,
        date: document.getElementById('date').value
      };

      transactions.unshift(transaction);
      localStorage.setItem('transactions', JSON.stringify(transactions));

      // Reset form
      this.reset();
      document.getElementById('date').valueAsDate = new Date();

      // Update displays
      updateCategoryTotals();
      updateTransactionsList();
      updateGrandTotal();
    });

    // Update category totals
    function updateCategoryTotals() {
      const totalsContainer = document.getElementById('categoryTotals');
      const totals = {};

      // Calculate totals
      transactions.forEach(transaction => {
        const key = `${transaction.type}-${transaction.category}`;
        if (!totals[key]) {
          totals[key] = {
            type: transaction.type,
            category: transaction.category,
            total: 0
          };
        }
        totals[key].total += transaction.amount;
      });

      // Display totals
      if (Object.keys(totals).length === 0) {
        totalsContainer.innerHTML = '<div class="empty-state">No transactions yet</div>';
        return;
      }

      let html = '';
      Object.values(totals).forEach(total => {
        html += `
                    <div class="category-item ${total.type}">
                        <span class="category-name">${total.category}</span>
                        <span class="category-total ${total.type}">
                            ${total.type === 'expense' ? '-' : '+'}$${total.total.toFixed(2)}
                        </span>
                    </div>
                `;
      });

      totalsContainer.innerHTML = html;
    }

    // Update transactions list
    function updateTransactionsList() {
      const listContainer = document.getElementById('transactionsList');

      if (transactions.length === 0) {
        listContainer.innerHTML = '<div class="empty-state">No transactions recorded yet. Add your first transaction above!</div>';
        return;
      }

      let html = '';
      transactions.slice(0, 20).forEach(transaction => {
        const date = new Date(transaction.date);
        const formattedDate = date.toLocaleDateString('en-US', {
          month: 'short',
          day: 'numeric',
          year: 'numeric'
        });

        html += `
                    <div class="transaction-item">
                        <span class="transaction-type ${transaction.type}">${transaction.type}</span>
                        <span class="transaction-category">${transaction.category}</span>
                        <span class="transaction-amount ${transaction.type}">
                            ${transaction.type === 'expense' ? '-' : '+'}$${transaction.amount.toFixed(2)}
                        </span>
                        <span class="transaction-date">${formattedDate}</span>
                        <button class="delete-btn" onclick="deleteTransaction(${transaction.id})">Delete</button>
                    </div>
                `;
      });

      listContainer.innerHTML = html;
    }

    // Update grand total
    function updateGrandTotal() {
      const grandTotal = transactions.reduce((total, transaction) => {
        return transaction.type === 'income'
          ? total + transaction.amount
          : total - transaction.amount;
      }, 0);

      const grandTotalElement = document.getElementById('grandTotal');
      grandTotalElement.textContent = `$${Math.abs(grandTotal).toFixed(2)}`;
      grandTotalElement.className = `grand-total ${grandTotal >= 0 ? 'positive' : 'negative'}`;
    }

    // Delete transaction
    function deleteTransaction(id) {
      transactions = transactions.filter(t => t.id !== id);
      localStorage.setItem('transactions', JSON.stringify(transactions));
      updateCategoryTotals();
      updateTransactionsList();
      updateGrandTotal();
    }

    // Add enter key support for category addition
    document.getElementById('newCategoryName').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        addCategory();
      }
    });
  </script>
</body>

</html>